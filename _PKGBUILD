pkgname=s-util-git
pkgver=20110511
pkgrel=3
pkgdesc="Simple utilities"
arch=('any')
provides=('s-util')
replace=('s-util')
url="https://github.com/yuyichao/s-util"
license=('GPL')
install=(s-util.install)
depends=('bash' 'coreutils' 'findutils' 'grep' 'awk' 'sed')
optdepends=('xdg-utils' 'openssl' 'nss' 'wget' 'texlive-bin' 'curl' 'util-linux')
makedepends=('git')

_gitroot=git://github.com/yuyichao/s-util.git
_gitname=s-util
package()
{
    cd "$srcdir"

    msg "Connecting to github.com"

    if [ -d "$startdir/src/$_gitname" ] ;then
	cd "$_gitname" && git pull origin
	msg "The local files are updated."
    else
	git clone "$_gitroot"
    fi
    msg "GIT checkout done or server timeout"

    cd "$srcdir/$_gitname"

    git checkout master

    ./install --to /usr/bin --rc /etc/bash.bashrc --prefix "$pkgdir" --no-uninstall --force-usr --nopstinstl
}